---

copyright:
  years: 2020, 2023
lastupdated: "2023-12-12"

keywords: flow logs, ordering, logging, log analysis

subcollection: vpc

---

{{site.data.keyword.attribute-definition-list}}

# Logging for VPC
{: #logging}

After you provision {{site.data.keyword.la_full}} to add log management capabilities to your {{site.data.keyword.cloud}} architecture, you can enable platform logs to view and analyze VPC logs.
{: shortdesc}

## Platform logs
{: #logging_ov}

Platform logs are logs that are exposed by logging-enabled services and the platform in {{site.data.keyword.cloud_notm}}. You must configure a {{site.data.keyword.la_short}} instance in a region to monitor these logs.

For more information, see [Configuring IBM Cloud platform logs](/docs/log-analysis?topic=log-analysis-config_svc_logs).

## Viewing logs
{: #logging_view}

VPC services generate platform logs in the same region where they are available. You can view, monitor, and manage VPC logs through the {{site.data.keyword.la_full_notm}} instance that is marked as **platform logs** in the region.

To launch the {{site.data.keyword.la_short}} web UI to view these logs, see [Navigating to the web UI](/docs/log-analysis?topic=log-analysis-launch).

For more information about the locations where VPC logs are available, see [VPC infrastructure services locations](/docs/log-analysis?topic=log-analysis-cloud_services_locations#cloud_services_locations_vpc_infrastructure).

## Fields per log type
{: #logging_fields}

Table 1 outlines the fields that are included in each log record:

| Field             | Type       | Description             |
|-------------------|------------|-------------------------|
| `logSourceCRN`    | Required   | Defines the account and flow log instance where the log is published. |
| `saveServiceCopy` | Required   | Defines whether IBM saves a copy of the record for operational purposes. |
| `message`         | Required   | Description of the log that is generated. |
| `messageID`       | Required   | ID of the log that is generated. |
| `msg_timestamp`   | Required   | The timestamps when the log is generated. |
| `resolution`      | Optional   | Guidance on how to proceed if you receive this log record. |
| `documentsURL`    | Optional   | More information on how to proceed if you receive this log record. |
| `generation`      | Required   | Defines the VPC source of the log. Valid options are `1` for VPC Classic, and `2` for `VPC Gen 2`. |
{: caption="Table 1. Log record fields" caption-side="bottom"}

## Log messages
{: #logging_msgs}

The following tables list the message IDs that are generated by VPC services:

### Flow log collector
{: #logging-flow-log-collector_msgs}

Table 2 outlines the message IDs that are generated by the flow log collector service:

| Message ID                     | Type  | Learn More  |
|--------------------------------|-------|---------------------|
| `is.flow-log-collector.00001E` | `err` | [`Failed to write Flow Log file for the past 24 hours. Dropping flow log for Virtual Server <ServerName>`](/docs/vpc?topic=vpc-fl-ts-error-failed-write) |
| `is.flow-log-collector.00002E` | `err` | [`Unauthorized access to Cloud Object Storage bucket <BucketName>`](/docs/vpc?topic=vpc-fl-ts-error-unauth-access-cos) |
| `is.flow-log-collector.00003E` | `err` | [`Cloud Object Storage bucket <BucketName> was not found`](/docs/vpc?topic=vpc-fl-ts-error-cos-bucket) |
{: caption="Table 2. Message IDs that are generated by Flow Log Collector" caption-side="bottom"}

Flow log collector generates hourly logs.
{: note}

### Dedicated Host
{: #logging-dedicated-host}

Table 3 outlines the message IDs that are generated for dedicated hosts:

| Message ID             | Type   | Learn More  |
|------------------------|--------|---------------------|
| `dedicated-host.00001` | `err`  | [`Failed to create dedicated host <Dedicated Host ID> due to insufficient capacity in zone.`](/docs/vpc?topic=vpc-why-did-a-dedicated-host-fail-to-create) |
| `dedicated-host.00002` | `info` | `Provisioned a virtual server instance on dedicated host <Dedicated Host ID>.`              |
| `dedicated-host.00003` | `info` | `Removed a virtual server instance on dedicated host <Dedicated Host ID>.`              |
{: caption="Table 3. Message IDs that are generated for dedicated hosts" caption-side="bottom"}

A log is generated when each Dedicated Host event occurs.
{: note}

### Snapshots for VPC
{: #logging-snapshots}

Table 4 outlines the message IDs that are generated by the Snapshots service:

| Message ID       | Type   | Learn More  |
|------------------|--------|---------------------|
| `snapshot.00001` | `info` | `Snapshot creation requested for volume <Volume ID>.` |
| `snapshot.00002` | `info` | `Snapshot <Snapshot ID> is successfully captured. Volume <Volume ID>` |
| `snapshot.00003` | `info` | `Snapshot <Snapshot ID> is an incremental snapshot. Volume <Volume ID>` |
| `snapshot.00004` | `info` | `Snapshot <Snapshot ID> is a full snapshot. Volume <Volume ID>` |
| `snapshot.00005` | `info` | `Snapshot <Snapshot ID> is available. Volume <Volume ID>` |
| `snapshot.00006` | `info` | `Snapshot <Snapshot ID> is uploaded. Volume <Volume ID>` |
| `snapshot.00007` | `info` | `Snapshot <Snapshot ID> deletion requested.` |
| `snapshot.00008` | `info` | `Snapshot <Snapshot ID> is successfully deleted. Volume <Volume ID> Region <Region>` |
| `snapshot.00009` | `info` | `All snapshots of volume <Volume ID> in the region <Region> are requested to be deleted.` |
| `snapshot.00010` | `info` | `Delete all snapshots request for volume <Volume ID> is completed successfully. Region <Region>` |
| `snapshot.00010` | `info` | `Snapshot copy creation in region <Region> requested for snapshot <Snapshot ID> from region <Source Region>. Volume <Volume ID>` |
{: caption="Table 4. Message IDs that are generated for Snapshot events" caption-side="bottom"}

### File share replication
{: #logging-file-share-replication}

Table 5 outlines the message IDs that are generated for File Storage replication events:

| Message ID             | Type   | Description |
|------------------------|--------|------------|
| `regional-file.00001I` | `info` | The replication status of `{{.shareID}}` is active. |
| `regional-file.00002W` | `warning` | The replication status of `{{.shareID}}` is degraded. |
| `regional-file.00003I` | `info` | Initiated by the cron schedule `{{.cronSpec}}`, `{{.dataTransferredInGiB}}` of data transferred from the source share `{{.shareID.}}` between `{{.startedAt.}}` and `{{.endedAt.}}` with a data transfer rate of `{{.transferRate}}`. |
{: caption="Table 5. Message IDs that are generated for resource quota events" caption-side="bottom"}

A log is generated when a replication event occurs.
{: note}
